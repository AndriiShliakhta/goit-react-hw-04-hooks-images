(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var c=a(18),n=a.n(c),r=a(3),o=a(1),s=a(0);function i(e){var t=e.onSubmit,a=Object(o.useState)(""),c=Object(r.a)(a,2),n=c[0],i=c[1];return Object(s.jsx)("header",{className:"Searchbar",children:Object(s.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==n.trim()&&(t(n),i(""))},children:[Object(s.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(s.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(s.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:n,onChange:function(e){var t=e.currentTarget;i(t.value)}})]})})}var u=a(9),l=a(19),b=a.n(l);function j(e){var t=e.webformatURL,a=e.largeImageURL;return Object(s.jsx)("li",{className:"ImageGalleryItem",children:Object(s.jsx)("img",{src:t,"data-large":a,alt:"",className:"ImageGalleryItem-image"})})}var m=function(e){var t=e.loadMore;return Object(s.jsx)("div",{className:"buttonContainer",children:Object(s.jsx)("button",{type:"button",onClick:t,className:"Button",children:"Load More"})})},d=a(47);function g(e){var t=e.imageName,a=e.openModal,c=Object(o.useState)(null),n=Object(r.a)(c,2),i=n[0],l=n[1],g=Object(o.useState)(!1),O=Object(r.a)(g,2),h=O[0],f=O[1],p=Object(o.useState)(null),x=Object(r.a)(p,2),v=x[0],S=x[1],N=Object(o.useState)(1),w=Object(r.a)(N,2),y=w[0],I=w[1];Object(o.useEffect)((function(){t&&(l(null),I(1),L())}),[t]),Object(o.useEffect)((function(){t&&L()}),[y]);var L=function(){f(!0),b.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(y,"&key=23115860-3b173cd8cbd28dc69cb35b572&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){l(1===y?e.data.hits:[].concat(Object(u.a)(i),Object(u.a)(e.data.hits))),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return S(e)})).finally(f(!1))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("ul",{className:"ImageGallery",onClick:a,children:[v&&Object(s.jsx)("h1",{children:v.message}),h&&Object(s.jsx)(d.a,{}),i&&i.map((function(e){return Object(s.jsx)(j,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL},e.id)}))]}),i&&Object(s.jsx)(m,{className:"Button",loadMore:function(){I((function(e){return e+1}))}})]})}function O(e){var t=e.lagreImgURL,a=e.toggleModal;Object(o.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}}));var c=function(e){return"Escape"===e.code&&a()};return Object(s.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&a()},children:Object(s.jsx)("div",{className:"Modal",children:Object(s.jsx)("img",{src:t,alt:""})})})}function h(){var e=Object(o.useState)(""),t=Object(r.a)(e,2),a=t[0],c=t[1],n=Object(o.useState)(!1),u=Object(r.a)(n,2),l=u[0],b=u[1],j=Object(o.useState)(""),m=Object(r.a)(j,2),d=m[0],h=m[1],f=function(e){"IMG"===e.target.tagName&&(b(!0),h(e.target.dataset.large))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(i,{onSubmit:function(e){c(e)}}),Object(s.jsx)(g,{imageName:a,openModal:f}),l&&Object(s.jsx)(O,{lagreImgURL:d,openModal:f,toggleModal:function(){return b((function(e){return!e}))}})]})}a(43),a(44);n.a.render(Object(s.jsx)(h,{}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.e4edc0ed.chunk.js.map