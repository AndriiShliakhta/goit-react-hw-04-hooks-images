{"version":3,"sources":["Searchbar/Searchbar.js","ImageGallery/ImageGalleryItem/ImageGalleryItem.js","ImageGallery/Button/Button.js","ImageGallery/ImageGallery.js","Modal/Modal.js","App.js","index.js"],"names":["Searchbar","onSubmit","useState","imageName","setImageName","className","evt","preventDefault","trim","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","ImageGalleryItem","webformatURL","largeImageURL","src","alt","Button","loadMore","onClick","ImageGallery","openModal","images","setImages","loading","setLoading","error","setError","page","setPage","useEffect","getData","console","log","axios","get","then","resp","data","hits","prev","window","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","message","SpinnerDotted","map","image","id","Modal","lagreImgURL","toggleModal","addEventListener","onHandleEscapeClick","removeEventListener","e","code","target","App","isOpenModal","setIsOpenModal","setLagreImgURL","tagName","dataset","large","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.988a2e2a.chunk.js","sourcesContent":["import { useState } from 'react';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [imageName, setImageName] = useState('');\r\n\r\n  const handleChange = ({ currentTarget }) => {\r\n    setImageName(currentTarget.value);\r\n  };\r\n\r\n  const handleSubmit = evt => {\r\n    evt.preventDefault();\r\n\r\n    if (imageName.trim() === '') {\r\n      return;\r\n    }\r\n    onSubmit(imageName);\r\n    setImageName('');\r\n  };\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={imageName}\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","export default function ImageGalleryItem({ webformatURL, largeImageURL }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        data-large={largeImageURL}\r\n        alt=\"\"\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","const Button = ({ loadMore }) => {\r\n  return (\r\n    <div className=\"buttonContainer\">\r\n      <button type=\"button\" onClick={loadMore} className=\"Button\">\r\n        Load More\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import axios from 'axios';\r\nimport { useState, useEffect } from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport Button from './Button/Button';\r\nimport { SpinnerDotted } from 'spinners-react';\r\n\r\nexport default function ImageGallery({ imageName, openModal }) {\r\n  const [images, setImages] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n\r\n  const loadMore = () => {\r\n    setPage(prev => prev + 1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData(1);\r\n    return;\r\n  }, [imageName]);\r\n\r\n  useEffect(() => {\r\n    page !== 1 && getData(page);\r\n  }, [page]);\r\n\r\n  const getData = page => {\r\n    if (!imageName) {\r\n      return;\r\n    }\r\n    // console.log(imageName);\r\n    setLoading(true);\r\n    console.log(imageName, page);\r\n    axios\r\n      .get(\r\n        `https://pixabay.com/api/?q=${imageName}&page=${page}&key=23115860-3b173cd8cbd28dc69cb35b572&image_type=photo&orientation=horizontal&per_page=12`,\r\n      )\r\n      .then(resp => {\r\n        if (page === 1) {\r\n          console.log(resp);\r\n          setPage(1);\r\n          setImages(resp.data.hits);\r\n        } else {\r\n          setImages(prev => [...prev, ...resp.data.hits]);\r\n        }\r\n\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      })\r\n      .catch(error => setError(error))\r\n      .finally(setLoading(false));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {' '}\r\n      {console.log(images)}\r\n      <ul className=\"ImageGallery\" onClick={openModal}>\r\n        {error && <h1>{error.message}</h1>}\r\n        {loading && <SpinnerDotted />}\r\n        {images &&\r\n          images.map(image => {\r\n            return (\r\n              <ImageGalleryItem\r\n                key={image.id}\r\n                webformatURL={image.webformatURL}\r\n                largeImageURL={image.largeImageURL}\r\n              />\r\n            );\r\n          })}\r\n      </ul>\r\n      {images && <Button className=\"Button\" loadMore={loadMore} />}\r\n    </>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\n\r\nexport default function Modal({ lagreImgURL, toggleModal }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', onHandleEscapeClick);\r\n    return () => window.removeEventListener('keydown', onHandleEscapeClick);\r\n  });\r\n\r\n  const onHandleEscapeClick = e => e.code === 'Escape' && toggleModal();\r\n\r\n  const onOverlayClick = e => {\r\n    if (e.target === e.currentTarget) toggleModal();\r\n  };\r\n\r\n  return (\r\n    <div className=\"Overlay\" onClick={onOverlayClick}>\r\n      <div className=\"Modal\">\r\n        <img src={lagreImgURL} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport Searchbar from './Searchbar/Searchbar';\r\nimport ImageGallery from './ImageGallery/ImageGallery';\r\nimport Modal from './Modal/Modal';\r\n\r\nexport default function App() {\r\n  const [imageName, setImageName] = useState('');\r\n  const [isOpenModal, setIsOpenModal] = useState(false);\r\n  const [lagreImgURL, setLagreImgURL] = useState('');\r\n\r\n  const formSubmit = imageName => {\r\n    setImageName(imageName);\r\n  };\r\n  const openModal = e => {\r\n    if (e.target.tagName === 'IMG') {\r\n      setIsOpenModal(true);\r\n      setLagreImgURL(e.target.dataset.large);\r\n    }\r\n  };\r\n  const toggleModal = () =>\r\n    setIsOpenModal(prev => {\r\n      return !prev;\r\n    });\r\n\r\n  return (\r\n    <>\r\n      <Searchbar onSubmit={formSubmit} />\r\n      <ImageGallery imageName={imageName} openModal={openModal} />\r\n      {isOpenModal && (\r\n        <Modal\r\n          lagreImgURL={lagreImgURL}\r\n          openModal={openModal}\r\n          toggleModal={toggleModal}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}